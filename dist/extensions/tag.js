!function(a){function b(){this.name="div",this._attr={},this._data={},this.content="",this.isEmpty=!1}function c(c){var d=new b,e={name:"",attr:{},data:{},content:"",isEmpty:!1};if(a.isString(c)&&(e.name=c),a.isObject(c)&&a.extend(e,c),0==e.name.length)throw new Error("Invalid TAG name");return d.name=e.name,a.each(e.attr,function(a,b){d.attr(b,a)}),a.each(e.data,function(a,b){d.data(b,a)}),d.content=e.content,d.isEmpty=Boolean(e.isEmpty),d}var d="1.0.0",e={};Object.defineProperty(e,"VERSION",{value:d}),Object.defineProperty(b,"version",{value:d}),b.prototype.clone=function(){var b=new this.constructor;return b.name=this.name,b._attr=a.clone(this._attr),b._data=a.clone(this._data),b.content=a.clone(this.content),b.isEmpty=Boolean(this.isEmpty),b.id(""),b},b.prototype.valueOf=function(){return this.toString()},b.prototype.toString=function(){var b,c,d=["<"+this.name],e={};return this.hasAttr("class")&&(c=a.clone(this._attr["class"]),this._attr["class"]=a.uniq(this._attr["class"]).join(" ")),this.hasAttr("style")&&(b=a.clone(this._attr.style),this._attr.style=a.map(this._attr.style,function(a,b){return b+" : "+a}).join("; ")),a.each(this._attr,function(a,b){e[b]=b+'="'+a.toString().replace("&","&amp;").replace('"',"&quote;")+'"'}),a.each(this._data,function(a,b){e["data-"+b]="data-"+b+'="'+a.toString().replace("&","&amp;").replace('"',"&quote;")+'"'}),a.isEmpty(e)||d.push(" "+a.values(e).join(" ")),this.isEmpty?d.push("/>"):(d.push(">"),a.each(a.M.asArray(this.content),function(a){d.push(a+"")}),d.push("</"+this.name+">")),c&&(this._attr["class"]=c),b&&(this._attr.style=b),d.join("")},b.prototype.toElement=function(){var b,c,d=document.createElement(this.name);return this.hasAttr("class")&&(b=a.clone(this._attr["class"]),this._attr["class"]=a.uniq(this._attr["class"]).join(" ")),this.hasAttr("style")&&(c=a.clone(this._attr.style),this._attr.style=a.map(this._attr.style,function(a,b){return b+" : "+a}).join("; ")),a.each(this._attr,function(b,c){d.setAttribute(c,a.clone(b))}),a.each(this._data,function(b,c){d.setAttribute("data-"+c,a.clone(b))}),a.each(a.M.asArray(this.content),function(a){d.appendChild(document.createTextNode(a.toString()))}),b&&(this._attr["class"]=b),c&&(this._attr.style=c),d},b.prototype.attr=function(b,c){switch(arguments.length){case 0:return a.clone(this._attr);case 1:if(a.isObject(b)){var d="",e=this;return a.isArray(b)&&(d="attr-"),a.each(b,function(a,b){e._attr[d+b]=a}),this}if(a.has(this._attr,b))return this._attr[b];return;case 2:return this._attr[b]=c,this;default:return this._attr[b]=Array.prototype.slice.call(arguments,1),this}},b.prototype.hasAttr=function(b){return a.has(this._attr,b)},b.prototype.removeAttr=function(){var b=this;return a.each(arguments,function(a){delete b._attr[a+""]}),this},b.prototype.data=function(b,c){switch(arguments.length){case 0:return a.clone(this._data);case 1:if(a.isObject(b)){var d="",e=this;return a.isArray(b)&&(d="data-"),a.each(b,function(a,b){e._data[d+b]=a}),this}if(a.has(this._data,b))return this._data[b];return;case 2:return this._data[b]=c,this;default:return this._data[b]=Array.prototype.slice.call(arguments,1),this}},b.prototype.hasData=function(b){return a.has(this._data,b)},b.prototype.removeData=function(){var b=this;return a.each(arguments,function(a){delete b._data[a+""]}),this},b.prototype.append=function(){var b="";return a.each(arguments,function(a){b+=a.toString()}),this.content+=b,this},b.prototype.prepend=function(){var b="";return a.each(arguments,function(a){b+=a.toString()}),this.content=b+this.content,this},b.prototype.html=function(){var b="";return 0==arguments.length?(a.each(a.M.asArray(this.content),function(a){b+=a.toString()}),b):(a.each(arguments,function(a){b+=a.toString()}),this.content=b,this)},b.prototype.text=function(){if(0==arguments.length)return a.M.escapeHTML(this.html());var b=[];return a.each(arguments,function(a){b+=a.toString()}),this.content=a.M.escapeHTML(b),this},b.prototype.id=function(){if(0==arguments.length)return this.attr("id");if(arguments[0]===!0&&(arguments[0]="tag_"+a.M.randomString(10)),a.M.isLikeString(arguments[0]))return this.attr("id",arguments[0].toString()),this;throw new Error("Invalid ID type")},b.prototype.addClass=function(){return this.hasAttr("class")||(this._attr["class"]=[]),this._attr["class"]=a.uniq(this._attr["class"].concat(Array.prototype.slice.call(arguments,0))),this},b.prototype.removeClass=function(){return this.hasAttr("class")&&a.isArray(this._attr["class"])&&(this._attr["class"]=a.difference(this._attr["class"],arguments)),this},b.prototype["class"]=function(){return this.hasAttr("class")&&a.isArray(this._attr["class"])?this._attr["class"]:[]},b.prototype.toggleClass=function(b,c){var d=this["class"]();if(b=a.uniq(a.M.asArray(b)),a.isUndefined(c)){var e=a.intersection(d,b),f=a.difference(b,d);d=a.union(a.difference(d,e),f)}else d=c?a.union(d,b):a.difference(d,b);return this._attr["class"]=d,this},b.prototype.style=function(b,c){if(0==arguments.length)return this.hasAttr("style")&&a.isObject(this._attr.style)?a.clone(this._attr.style):{};this.hasAttr("style")&&a.isObject(this._attr.style)||(this._attr.style={});{if(1!=arguments.length)return a.M.isLikeString(arguments[0])&&a.M.isLikeString(arguments[1])?(this._attr.style[arguments[0]]=arguments[1],this):(a.isEmpty(this._attr.style)&&delete this._attr.style,!1);if(a.isObject(arguments[0]))return a.extend(this._attr.style,arguments[0]),this;if(a.has(this._attr.style,arguments[0]))return this._attr.style[arguments[0]]}},b.prototype.removeStyle=function(b){return a.isUndefined(b)&&(b=!1),a.has(this._attr,"style")&&!a.isEmpty(this._attr.style)&&(b?this._attr.style={}:this._attr.style=a.pick(this._attr.style,a.difference(Object.keys(this._attr.style),arguments))),this},e.TAG=b,e.createTag=function(a){return c(a)},e.defineTag=function(b,d,f,g,h){if(!a.isObject(d)&&a.isString(d)){var i=d;d={},d[i]=!0}a.isObject(f)||(f={}),(a.isUndefined(g)||a.isNull(g))&&(g=""),h=Boolean(h),Object.defineProperty(e,b,{value:function(e,i){e=a.extend({name:b,_attr:d,_data:f,content:g,isEmpty:h},e);var j=c(e);return a.isUndefined(i)||a.isNull(i)||j.append(i),j}})};var f={},g=["frame","base","link","track","param","area","command","col","meta","source","img","keygen","wbr","colgroup","input","br","hr","embed"],h=["html","head","style","title","address","article","footer","header","h1","h2","h3","h4","h5","h6","hgroup","nav","section","dd","div","dl","dt","figcaption","figure","li","main","ol","p","pre","ul","abbr","b","bdi","bdo","cite","code","data","dfn","em","i","kbd","mark","q","s","samp","small","span","strong","sub","sup","time","u","audio","map","video","object","canvas","noscript","del","ins","table","tbody","td","tfoot","th","thead","tr","button","datalist","fieldset","option","form","label","legend","meter","optgroup","output","progress","frameset","iframe"];a.each(g,function(a){f[a]={name:a,isEmpty:!0}}),a.each(h,function(a){f[a]={name:a,isEmpty:!1}}),a.each(f,function(a,b){e.defineTag(b,{},{},"",a.isEmpty)}),a.module("TAG",e)}(_);
//# sourceMappingURL=tag.js.map